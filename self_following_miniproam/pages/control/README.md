# 机器人伴侣控制中心

## 概述
控制中心是机器人伴侣微信小程序的核心页面，提供了完整的机器人远程控制功能，专为跟随机器人场景设计。

## 主要功能

### 🎥 视频监控
- **实时视频流**: 显示机器人摄像头实时画面
- **视频质量调节**: 支持高清、标准、流畅等多种画质
- **自动质量调整**: 根据网络状况智能调整视频质量
- **可拖拽视频区域**: 用户可调整视频显示区域大小

### 🎮 智能控制
- **双控制模式**:
  - 移动控制: 手动控制机器人前进、后退、左转、右转
  - 跟随控制: 智能跟随人员或指定目标
- **跟随参数调节**:
  - 跟随距离: 50-300cm可调
  - 跟随速度: 10-80%可调
  - 跟随模式: 人员跟随/目标跟随

### 📊 状态监控
- **连接状态**: 实时显示服务器和机器人连接状态
- **设备信息**: 电池电量、信号强度等
- **性能指标**: 视频延迟、帧率、缓冲健康度

### 🔧 智能特性
- **自动/手动模式切换**: 支持全自动和手动操作
- **用户偏好记忆**: 自动保存用户设置
- **实时参数调整**: 跟随过程中可实时调整参数

## 技术特色

### 🎨 设计风格
- **机器人伴侣主题**: 采用科技蓝配色方案
  - 主色调: #2196F3 (科技蓝)
  - 次要色: #00BCD4 (电光蓝)  
  - 强调色: #FF9800 (机械橙)
- **现代化UI**: 卡片式布局，圆角设计，渐变效果
- **响应式设计**: 支持不同屏幕尺寸，自适应布局

### 🚀 性能优化
- **WebSocket通信**: 低延迟实时控制指令传输
- **视频流优化**: 支持多种压缩格式，自动码率调整
- **内存管理**: 自动清理定时器，避免内存泄漏
- **用户体验**: 平滑动画过渡，触觉反馈

### 🛡️ 安全特性
- **指令防抖**: 防止频繁发送控制指令
- **连接检测**: 定时检查连接状态
- **错误恢复**: 自动重连机制

## 使用说明

### 基础操作
1. **连接机器人**: 确保机器人与服务器连接正常
2. **选择模式**: 在手动/自动模式间切换
3. **控制机器人**: 使用方向按钮或跟随功能

### 跟随设置
1. **切换到跟随控制**: 开启跟随模式开关
2. **选择跟随模式**: 人员跟随或目标跟随
3. **调整参数**: 设置合适的跟随距离和速度
4. **开始跟随**: 点击"开始跟随"按钮

### 视频调节
1. **点击质量按钮**: 打开视频质量设置面板
2. **选择画质**: 根据网络状况选择合适画质
3. **拖拽调整**: 上下拖动分隔条调整视频区域大小

## 配置说明

### 页面配置 (control.json)
```json
{
  "navigationBarTitleText": "机器人控制中心",
  "enablePullDownRefresh": true,
  "navigationBarTextStyle": "white", 
  "navigationBarBackgroundColor": "#2196F3"
}
```

### 全局配置
- 页面已添加到 `app.json` 的 pages 数组
- 已配置底部导航栏图标和文字
- 支持下拉刷新功能

## 文件结构
```
pages/control/
├── control.js      # 页面逻辑和控制器
├── control.wxml    # 页面结构和布局  
├── control.wxss    # 页面样式和主题
├── control.json    # 页面配置
└── README.md       # 说明文档
```

## 扩展功能
- 📷 拍照记录: 远程控制机器人拍照
- 🔊 语音控制: 预留语音控制接口
- 📊 跟随历史: 快速跳转到历史记录页面
- ⚙️ 功能设置: 跳转到功能配置页面

## 注意事项
1. 需要确保机器人硬件支持相应的控制指令
2. 视频流功能需要机器人端提供WebSocket视频推流
3. 跟随功能需要机器人具备视觉识别和追踪能力
4. 建议在良好的网络环境下使用以获得最佳体验 